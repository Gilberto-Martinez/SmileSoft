{%extends 'panel_control/base.html'%}  

{%load static%}


{%block content%}
      

            <div class="card" style="width: 18rem;">
            <img src="/img/eliminado.jpg" class="card-img-top" alt="...">
            <div class="card-body">
                <p class="card-text">El insumo ha sido eliminado.</p>
            </div>
            </div>

       

{%endblock%} 

 {%if perms.gestion_inventario_insumos.delete_insumo%}
<div class="modal-dialog modals-default">
    <div class="modal-content">
        <div class="modal-header">
            Eliminación de {{ object }}
            <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body text-center" >{% csrf_token %}
            <h3><strong>¿Desea eliminar {{ object }} ?</strong></h3>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-align="right"
                onclick="eliminar({{ object.name }});"><strong>CONFIRMAR ELIMINACIÓN</strong></button>
            <button type="button" class="btn btn-primary" data-dismiss="modal"><strong>CANCELAR</strong></button>
        </div>
    </div>
</div>

  <script>
                                    function confirmarEliminacion(){
                                            Swal.fire({
                                                title: '¿Estás seguro que quiere insumo?',
                                                text: 'La operación no se podrá deshacer',
                                                icon: 'warning',
                                                showCancelButton: true,
                                                confirmButtonColor: '#3085d6',
                                                cancelButtonColor: '#d33',
                                                confirmButtonText: 'Aceptar',
                                                cancelmButtonText: 'Cancelar',
                                                buttons: true,
                                                dangerMode: true,
                                              
                                            }).then((result) => {
                                                    if (result.value) {
                                                        for(var nombre_insumo in listado_insumos) {
                                                            listado_insumos[nombre_insumo]=c.nombre_insumo
                                                                          
                                                            console.log('El insumo con índice (usamos su nombre como índice) ' + tratamuento + ' es uno de tus favoritos');
                                                            window.location.href = "/insumo/eliminar_insumo/c.nombre_insumo"
                                                       }
                                                        swal.fire("Eliminado correctamente", {
                                                            icon: "success",
                                                            times:3000,
                                                        });
                                                     
                                                    } else {
                                                        swal("Recuperar");
                                                    }
                                                });
                                        }

                                    </script> 

<!--funciona con la ventana de 127.0.0.1:8000-->
  <a href="/insumo/eliminar_insumo/{{c.nombre_insumo}}"  onclick="Eliminacion()"  class="btn btn-danger btnEliminacion">Eliminar</a>
       
 <script>

function Eliminacion()
    {
    var mensaje;
    var opcion = confirm("Clicka en Aceptar o Cancelar");
    if (opcion == true) {
        mensaje = "Has clickado OK";
	} else {
	    mensaje = "Has clickado Cancelar";
	}
	document.getElementById("value").innerHTML = mensaje;
}
                                </script>    


----funciona agregas un imput
                                
<label for="domTextElement">INSUMO</label>
  <input type="text" id="domTextElement" > 
  
  <button type="button"  onclick="getValueInput()"> 
      Eliminar 
  </button> 
  
  <p id="valueInput"></p> 

  <script> 

    const getValueInput = () =>{
      let inputValue = document.getElementById("domTextElement").value; 
      document.getElementById("valueInput").innerHTML = inputValue; 
    }
    
  </script> 





  ||||||||||||||||||||||||||
  
 <p>
     Eliminar 
  </p>
  
    Insumo
    <input type="text"
           id="myText"
           value="{{c.nombre_insumo}}">
  
    <button  value="{{c.nombre_insumo}}" type="button" 
            onclick="myFunction()">
     Eliminar
  </button>
  
    <p id="demo"></p>
  
    <script>
        // Here the value is stored in new variable x 
  
        function myFunction() {
             var x =document.getElementById("myText").value;
                                                    
                                                    document.getElementById("demo").innerHTML = x;
                                 
                Swal.fire({
                                        title: '¿Estás seguro que quiere eliminar este insumo? '+   document.getElementById("demo").innerHTML,
                                        text: "La operación no se podrá deshacer",
                                        icon: 'warning',
                                        showCancelButton: true,
                                        confirmButtonColor: '#3085d6',
                                        cancelButtonColor: '#d33',
                                        confirmButtonText: 'Aceptar',
                                        cancelmButtonText: 'Cancelar',
                                        inputValue:'{{c.nombre_insumo}}',

                                    }).then((result) => {
                                        if (result.value) {
                                          
                                            window.location.href = "/insumo/eliminar_insumo/"+   document.getElementById("demo").innerHTML;
                                            Swal.fire("Eliminado correctamente",{
                                                icon: "success",
                                            });
                                        } else {
                                            swal.fire("Recuperar");
                                        }
                                    });
        }
    </script>


    ||||||||||||
    colores
    .swal-overlay {
  background-color: rgba(43, 165, 137, 0.45);
}
    |||||||||||

°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
funciona para que salude
                                             

  <p>
     Eliminar 
  </p>
  
    Insumo
    <input type="text"
           id="myText"
           value="{{c.nombre_insumo}}">{{c.nombre_insumo}</input>
  
    <button  value="{{c.nombre_insumo}}" type="button" 
            onclick="myFunction()">
     Eliminar
  </button>
  
    <p id="demo">Hola</p>
  
    <script>
        let name=   "{{c.nombre_insumo}}" 
        function myFunction() {
             var name =document.getElementById("myText").value;
                                                    
             document.getElementById("demo").innerHTML = name;
                                 
                Swal.fire({
                                        title: '¿Estás seguro que quiere eliminar este insumo? '+   document.getElementById("demo").innerHTML,
                                        text: "La operación no se podrá deshacer",
                                        icon: 'warning',
                                        showCancelButton: true,
                                        confirmButtonColor: '#3085d6',
                                        cancelButtonColor: '#d33',
                                        confirmButtonText: 'Aceptar',
                                        cancelmButtonText: 'Cancelar',
                                        inputValue:'{{c.name}}',

                                    }).then((result) => {
                                        if (result.value) {
                                          
                                            window.location.href = "/insumo/eliminar_insumo/"+   document.getElementById("demo").innerHTML;
                                            Swal.fire("Eliminado correctamente",{
                                                icon: "success",
                                            });
                                        } else {
                                            swal.fire("Recuperar");
                                        }
                                    });
        }
    </script>

°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°


funciona al tocar cambia


***
  <!-- Eliminar-->
                                <td>               
                                    {% comment %} <a href="/insumo/eliminar_insumo/{{c.nombre_insumo}}"  onclick="confirmarEliminacion()"  class="btn btn-danger btnEliminacion">Eliminar</a>  {% endcomment %}
                                    <p id="demo">Insumo->{{c.nombre_insumo}}</p>
                                    <button id="boton" type="button"  class="btn btn-danger btnEliminacion"
                                                onclick="confirmarEliminacion()" >
                                        Eliminar
                                    </button>
{% comment %} <script>
  var name =document.getElementById("boton").value;
             document.getElementById("myText").innerHTML = name;  
</script> {% endcomment %}
                                    <script>
                                      {% comment %} var name=document.getElementById("boton").value;

                                      document.getElementById("boton").innerHTML = name; {% endcomment %}
                                                                      
                                       function confirmarEliminacion() {
                                         document.getElementById("demo").innerHTML = "cambio ";
                                        Swal.fire({
                                        title: '¿Estás seguro que quiere eliminar este insumo '+insumo+'?',
                                        text: "La operación no se podrá deshacer",
                                        icon: 'warning',
                                        showCancelButton: true,
                                        confirmButtonColor: '#3085d6',
                                        cancelButtonColor: '#d33',
                                        confirmButtonText: 'Aceptar',
                                        cancelmButtonText: 'Cancelar',
                                      
                                    }).then((result) => {
                                        if (result.value) {
                                            
                                            
                                             window.location.href = "/insumo/eliminar_insumo/{{c.nombre_insumo}}",
                                            Swal.fire({
                                                title: 'Eliminado correctamente',
                                                icon: 'success',
                                                timer: 5000,
                                            });
                                        } else {
                                            swal.fire({
                                                title:"La eliminación fue cancelada",
                                                timer: 2000,
                                            });
                                        }
                                    });
                                }
                                </script>        
    
***
{%endif%}